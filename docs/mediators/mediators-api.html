<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Truck - Documentation</title>
  <link rel="icon" type="image/png" href="favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="favicon-16x16.png" sizes="16x16" />
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,300' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="../../css/styles.css">
  <link rel="stylesheet" href="../../css/styles-docs.css">
  <link rel="stylesheet" href="../../prettify/obsidian.css">
  <script type='text/javascript' src='../../prettify/prettify.js'></script>
  <script type='text/javascript' src='../../prettify/lang-css.js'></script>
</head>
<body>
  <article>
    <nav>
      <div>
        <h1><a href="../../index.html">Truck</a></h1>
        <menu>
          <a href="../../quickstart.html">Quick Start</a>
          <a href="../../features.html">Features</a>
          <a class='selected' href="#">Docs</a>
          <a href="../../install.html">Install</a>
        </menu>
      </div>
    </nav>
    <header>
      <div>
        <h2>Docs</h2>
        <h3>Everything You Need to Know</h3>
      </div>
    </header>
    
    <section>
      <div>
        <div>
          <h2>Mediators</h2>
          <h3>API</h3>
          <img src="../../images/truck-parts/Truck-Engine.png" alt="Truck Engine">
          
          <h4>Mediators</h4>
          <p><code>$.Mediators(options)</code></p>
          <p>This is factory that returns a mediator object. It takes one argument: a handle for the mediator. The handle is what the mediator listens to. When something, such as a model or another some code dispatches this handle, the mediator will run. Since a dispatch can also include data, the mediator can do something with the data, such as transforming it or passing it to a view for rendering.</p>
<pre class='prettyprint linenums'>
var MyMtor = $.Mediator('myModel-handle');
</pre>
          
          <h4>init</h4>
          <p><code>init(callback)</code></p>
          <p>This method is used to define what a mediator does when it runs. It takes a single argument, a callback. The callback get any data passed to the mediator when it is run:</p>
<pre class='prettyprint linenums'>
MyMtor.init(function(data) {
  if (data && data.length) {
    data.forEach(function(item) {
      console.log(item);
    });
  }
});
</pre>
          
          <h4>run</h4>
          <p><code>run()</code></p>
          <p>This method is used to execute a mediator. It takes one argument, data to pass to the mediator's callback.</p>
<pre class='prettyprint linenums'>
var MyMtor = $.Mediator('my-handle');
MyMtor.init(function(message) {
  console.log(message);
});
MyMtor.run('This is a message');
</pre>
          
          <h4>stop</h4>
          <p><code>stop(after)</code></p>
          <p>This method allows you to stop a method. This is more like a pause since it can be restarted later. If stop is executed on a mediator, it stops immediately. Any attemps to run it will not work. Also it will ignore any dispatches by other code to its handle.</p>
          <p>You can provide a number value, which tells the mediator to stop after the provided number of times running. So, if you wanted a mediator to stop after running 10 tiems, you would do this:</p>
<pre class='prettyprint linenums'>
// Stop the mediator immediately:
MyMtor.stop();

// Stop the mediator after 10 runs:
MyMtor.stop(10);
</pre>
          
          <h4>restart</h4>
          <p><code>restart(time)</code></p>
          <p>After a mediator has been stopped, you can make it work again by using this method. If you execute it with no arguments, it will immediately be restarted, meaning it will at once react to any dispatches to its handle or any attempts to execut run on it.</p>
          <p>You can tell a mediator to restart after a designate amount of time has passed by passing this method a number value that represents seconds:</p>
<pre class='prettyprint linenums'>
// Restart the Mediator 
MyMtor.restart();

// Tell the mediator to start in 5 minutes:
MyMtor.restart(60 * 5);
</pre>
          
          <h4>getCount</h4>
          <p><code>getCount()</code></p>
          <p>This method lets you find out how many times a mediator has run.</p>
<pre class='prettyprint linenums'>
var count = MyMtor.getCount();
</pre>
          
          <h4>resetCount</h4>
          <p><code>resetCount()</code></p>
          <p>This method lets you reset a ediator's count to zero.</p>
<pre class='prettyprint linenums'>
MyMtor.resetCount();
</pre>
          
          <h4>stopCount</h4>
          <p><code>stopCount()</code></p>
          <p>This method lets you tell a mediator to stop keeping track of how many times it has run.</p>
<pre class='prettyprint linenums'>
MyMtor.stopCount();
</pre>
          
          <h4>kill</h4>
          <p><code>kill()</code></p>
          <p>This method lets you kill a mediator. This is a final act. Once killed, a mediator cannot be revived for later use. If you really don't need a mediator you can kill it, otherwise, just stop it.</p>
<pre class='prettyprint linenums'>
MyMtor.kill();
</pre>
          
          <h4>getHandle</h4>
          <p><code>getHandle()</code></p>
          <p>This method lets you find out what handle a mediator is using.</p>
<pre class='prettyprint linenums'>
var medHandle = MyMtor.getHandle();
</pre>
          
          <h4>isStopped</h4>
          <p><code>isStopped()</code></p>
          <p>This method lets you check to see if a mediator has been stopped. It returns a boolean value.</p>
<pre class='prettyprint linenums'>
if (MyMtor.isStopped()) {
  alert('This mediator needs to be restarted!');
}
</pre>
          
          <h4>hasBeenKilled</h4>
          <p><code>hasBeenKilled()</code></p>
          <p>This method lets you check whether a mediator has been killed or not. It returns a boolean value.</p>
<pre class='prettyprint linenums'>
MyMtor.hasBeenKilled();
</pre>

        </div>
        
        <div id="menu">
          <ul>
            <li><a href='../models/models-intro.html'>Models</a></li>
            <li><a href="../views/views-intro.html">Views</a></li>
            <li><a href="../mediators/controllers-intro.html" class='selected'>Mediators</a>
              <ul>
                <li><a href="mediators-intro.html">Intro</a></li>
                <li><a href="mediators-use.html">Use</a></li>
                <li><a href="mediators-api.html" class='selected'>API</a></li>
              </ul>
            </li>
            <li><a href="../templates/templates-intro.html">Templates</a></li>
            <li><a href="../promises/promises-intro.html">Promises</a></li>
            <li><a href="../fetch/fetch-intro.html">Fetch</a></li>
            <li><a href="../router/router-intro.html">Router</a></li>
            <li><a href="../box/box-intro.html">Box</a></li>
            <li><a href="../widgets/widgets-intro.html">Widgets</a></li>
            <li><a href="../gestures/gestures-intro.html">Gestures</a></li>
            <li><a href="../dom/dom-intro.html">DOM</a></li>
            <li><a href="../utilities/utilities-intro.html">Utilities</a></li>
            <li><a href="../layouts/layouts-intro.html">Layouts</a></li>
            <li><a href="../themes/themes-intro.html">Themes</a></li>
            <li><a href="../dispatcher/dispatcher-intro.html">Dispatcher</a></li>
            <li><a href="../hybrids/hybrids-intro.html">Hybrids</a></li>
            <li><a href="../stacks/stacks-intro.html">Stacks</a></li>
            <li><a href="../forms/forms-intro.html">Forms</a></li>
            <li><a href="../formatting/formatting-intro.html">Data Formatting</a></li>
            <li><a href="../jquery/jquery-intro.html">jQuery</a></li>
            <li><a href="../tutorials/tutorials-intro.html">Tutorials</a></li>
          </ul>
        </div>
      </div>
    </section>


    <footer>
      <div>
          <menu id='mainFooterMenu'>
            <a id='truckLogoLink' href="../../index.html"><img src="../../images/footer-logo.png" alt="Truck"></a>
            <a href="../../quickstart.html">Quick Start</a>
            <a href="../../features.html">Features</a>
            <a href="../../install.html">Install</a>
          </menu>
        <aside>
          <menu id='social-links'>
            <a id='tumblr' target='_blank'  href="http://wobbabits.tumblr.com">Tumblr</a>
            <a id='github' target='_blank'  href="https://github.com/rbiggs/TruckJS">Github</a>
            <a id='twitter' target='_blank'  href="https://twitter.com/@trukrs">Twitter</a>
            <!--<a id='npm' href="#">NPM</a>-->
          </menu>
        </aside>
      </div>
    </footer>
  </article>
  
<script>
  prettyPrint();
</script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-70245106-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>